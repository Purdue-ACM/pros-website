<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>PROS - Programming the Clawbot</title>
    <meta name="generator" content="Hugo 0.19" />

    
    <meta name="description" content="An open source programming environment for the VEX EDR Platform">
    
    <link rel="canonical" href="https://pros.cs.purdue.edu/getting-started/">
    
    <meta name="author" content="purduesigbots">
    

    <meta property="og:url" content="https://pros.cs.purdue.edu/getting-started/">
    <meta property="og:title" content="PROS">
    <meta property="og:image" content="https://pros.cs.purdue.edu/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="PROS">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://pros.cs.purdue.edu/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://pros.cs.purdue.edu/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://pros.cs.purdue.edu/fonts/icon.eot?52m981');
        src: url('https://pros.cs.purdue.edu/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
             url('https://pros.cs.purdue.edu/fonts/icon.woff?52m981')
               format('woff'),
             url('https://pros.cs.purdue.edu/fonts/icon.ttf?52m981')
               format('truetype'),
             url('https://pros.cs.purdue.edu/fonts/icon.svg?52m981#icon')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://pros.cs.purdue.edu/stylesheets/application.css">
    <link rel="stylesheet" href="https://pros.cs.purdue.edu/stylesheets/temporary.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/atom-one-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Montserrat', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://pros.cs.purdue.edu/stylesheets/api.css">
    
    <script src="https://pros.cs.purdue.edu/javascripts/modernizr.js"></script>

  </head>
  <body>



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Programming the Clawbot
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/purduesigbots" title="@purduesigbots on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    

    
    
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
  <div class="results list">
    <div class="stretch">
      <ul id="results"></ul>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/purduesigbots/pros" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://pros.cs.purdue.edu/images/logo.png">
        </div>
      
      <div class="name">
        <strong>PROS <span class="version">2.11.1</span></strong>
        
          <br>
          purduesigbots/pros
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/purduesigbots/pros/releases" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/purduesigbots/pros/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Download" href="https://pros.cs.purdue.edu/download/">
	
	Download
</a>



  
</li>



<li>
  
    



<a class="current" title="Getting started" href="https://pros.cs.purdue.edu/getting-started/">
	
	Getting started
</a>


<ul id="scrollspy">
</ul>


    <ul>
      
        
        



<a  title="Windows" href="https://pros.cs.purdue.edu/getting-started/windows/">
	
	Windows
</a>



      
        
        



<a  title="OS X" href="https://pros.cs.purdue.edu/getting-started/os-x/">
	
	OS X
</a>



      
        
        



<a  title="Linux" href="https://pros.cs.purdue.edu/getting-started/debian-linux/">
	
	Linux
</a>



      
    </ul>
  
</li>



<li>
  
    



<a  title="Tutorials" href="https://pros.cs.purdue.edu/tutorials/">
	
	Tutorials
</a>



  
</li>



<li>
  
    



<a  title="API" href="https://pros.cs.purdue.edu/api/">
	
	API
</a>



  
</li>



<li>
  
    



<a  title="Known Issues" href="https://pros.cs.purdue.edu/known-issues/">
	
	Known Issues
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://pros.cs.purdue.edu/license/">
	
	License
</a>



  
</li>



<li>
  
    



<a  title="Home" href="https://pros.cs.purdue.edu/">
	
	Home
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">Get in touch</span>

        <ul>
          

          
          <li>
            <a href="https://github.com/purduesigbots" target="_blank" title="@purduesigbots on GitHub">
              @purduesigbots on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:pros_development@cs.purdue.edu%20%20" title="Email of pros_development@cs.purdue.edu  ">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Programming the Clawbot </h1>

			

<h4 id="objective">Objective:</h4>

<p>This tutorial will guide you through basic programming of the VEX Clawbot.</p>

<h4 id="intended-audience">Intended Audience:</h4>

<p>This tutorial is intended for developers with some programming experience, but with little to no experience with the PROS library. If you haven&rsquo;t programmed before, we recommend checking out all the &ldquo;Introduction and Basic C Features&rdquo; sections of <a href="http://www.cprogramming.com/tutorial/c-tutorial.html">this tutorial series</a>; you may also benefit from the &ldquo;Pointers, Arrays and Strings&rdquo; sections as well (although they aren&rsquo;t as pertintent).</p>

<h4 id="goals">Goals:</h4>

<p>At the end of this tutorial you will have:</p>

<ul>
<li>Understood the basic project structure of PROS</li>
<li>Programmed a basic chassis with &ldquo;tank&rdquo; control or &ldquo;arcade&rdquo; control</li>
<li>Programmed buttons to control the clawbot&rsquo;s lift</li>
<li>Programmed a joystick axis to control the clawbot&rsquo;s claw</li>
<li>Understood the standard subsystem module methodology</li>
<li>Programmed a dead-reckoned autonomous routine</li>
</ul>

<p>Here&rsquo;s the robot we&rsquo;ll be programming:

<figure >
    
        <img src="https://pros.cs.purdue.edu/images/tuts/clawbot1.jpg" />
    
    
</figure>
</p>

<p>For the purposes of this tutorial, we&rsquo;ve plugged in our motors into the following ports:</p>

<table>
<thead>
<tr>
<th align="center">Port</th>
<th align="center">Description</th>
<th align="center">Port</th>
<th align="center">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">1</td>
<td align="center"></td>
<td align="center">6</td>
<td align="center"></td>
</tr>

<tr>
<td align="center">2</td>
<td align="center">Left wheels</td>
<td align="center">7</td>
<td align="center"></td>
</tr>

<tr>
<td align="center">3</td>
<td align="center">Right wheels</td>
<td align="center">8</td>
<td align="center">Lift</td>
</tr>

<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center">9</td>
<td align="center">Claw</td>
</tr>

<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">10</td>
<td align="center"></td>
</tr>
</tbody>
</table>

<p>We modified our clawbot to include a quadrature encoder on the lift arm. We plugged the top and bottom ports into digital ports 2 and 3, respectively.</p>

<p>With Atom started, you can create a new PROS project by clicking the <code>PROS</code> menu, then click <code>Create new Project</code>.</p>


<figure >
    
        <img src="https://pros.cs.purdue.edu/images/atom/menu-create-new.png" />
    
    
</figure>


<p>Create a directory that you&rsquo;d like to keep the source files for your Clawbot project. We&rsquo;re creating ours in <code>C:\Users\Elliot\dev\Clawbot</code>.</p>


<figure >
    
        <img src="https://pros.cs.purdue.edu/images/atom/window-create-new.png" />
    
    
</figure>


<p>Pick a directory to create the new project in and click Create. The PROS CLI will now copy the latest kernel template into the specified directory and Atom will open it.

<figure >
    
        <img src="https://pros.cs.purdue.edu/images/atom/proj-brand-new.png" />
    
    
</figure>
</p>

<h2 id="pros-project-structure">PROS Project Structure</h2>

<p>When you create your project, PROS will copy all of the files necessary to build your project. The structure of the project looks like:</p>

<pre><code class="language-nohighlight">project
│   project.pros        (used by PROS CLI to know kernel version and other metadata)
│   Makefile            (instructs make how to compile your project)
|   common.mk           (helper file for Makefile)
│
└───src                 (source files should go here)
│   │   auto.c          (source for autonomous function)
│   │   init.c          (source for initialization)
│   │   opcontrol.c     (source for operator control)
│   │   Makefile        (instructs make how to compile your source files)
|
└───include             (Header files should go in here)
│   │   API.h           (Lets source files know PROS API functions)
│   │   main.h          (Includes API.h and anything else you want to include project-wide)
│   
└───firmware
    │   cortex.ld       (Instructs the linker how to construct binaries for the Cortex)
    │   libpros.a       (Pre-compiled PROS library)
    |   STM32F10x.ld    (Instructs the linker how to construct binaries for the Cortex)
    |   uniflash.jar    (Legacy flashing utility built w/Java)
</code></pre>

<div class="admonition note">
<p class="admonition-title">Convention Awareness</p>
<p>By convention, the <code>opcontrol()</code>, <code>autonomous()</code>, and initialize functions are separated into separate files (opcontrol.c, auto.c, and init.c). They could be all in the same file, but it can be helpful to organize your functions into multiple files to keep things from becoming messy.</p>
</div>

<h2 id="arcade-control">Arcade Control</h2>

<p>Let&rsquo;s begin by writing a basic &ldquo;arcade&rdquo; control for the clawbot. In arcade control, the vertical joystick values control the forward/backward speed of the robot and the horizontal joystick values control the rotation of the robot. Atom will open<code>src/opcontrol.c</code> for you when you create a project, but if it is not open then you will need to open it by navigating the directory tree on the left panel.</p>

<p>The template <code>opcontrol.c</code> file contains a simple infinite loop and documentation to help remind you what <code>opcontrol()</code> does.</p>

<p>PROS offers functions to perform common tasks associated with programming robotics. To program basic arcade functionality, we need to be aware of two functions: one to get the joystick input and one to set the motors to a speed.</p>

<pre><code class="language-c">int joystickGetAnalog ( unsigned char joystick,   // the joystick slot to check (1 for master, 2 for partner)
                        unsigned char axis        // One of the joystick channels on a VEX Joystick: 1, 2, 3, 4, ACCEL_X, or ACCEL_Y
                      );
</code></pre>

<p>Gets the value of a control axis on the VEX joystick.
<em><strong>Returns</strong> the value from -127 to 127, or 0 if no joystick is connected to the requested slot.</em></p>

<pre><code class="language-c">void motorSet ( unsigned char channel,  // motor channel to set from 1-10
                int speed               // new signed speed. -127 is full reverse, 127 full forward, 0 off
              );
</code></pre>

<p>Sets the speed of the specified motor channel.</p>

<p>Armed with knowledge of these functions, let&rsquo;s modify <code>opcontrol()</code>:</p>

<pre><code class="language-c">void operatorControl() {
  int power;
  int turn;
    while (1) {
        power = joystickGetAnalog(1, 2); // vertical axis on left joystick
        turn  = joystickGetAnalog(1, 1); // horizontal axis on left joystick
        motorSet(2, power + turn); // set left wheels
        motorSet(3, power - turn); // set right wheels
        delay(20);
    }
}
</code></pre>

<div class="admonition note">
<p class="admonition-title">Commenting Code</p>
<p>It&rsquo;s considered good practice to comment your code. Commenting can make it easier to understand the original intention of code when you have to look back on it months later in the middle of the competition and everything&rsquo;s broken.</p>

<blockquote>
<p>Your code should tell the story of what you are doing; your comments should tell the story of why you are doing it.
<em>(Source: <a href="http://stackoverflow.com/a/142869">http://stackoverflow.com/a/142869</a>)</em></p>
</blockquote>
</p>
</div>

<h2 id="compilation">Compilation</h2>

<p>Next, you will need to <strong>compile</strong> your project. Compilation converts your code into instructions the Cortex can understand. There are typically four stages to compilation. The following paragraphs explain abstract complicated technical systems. This introduction to compilation is intended to give some justification for the compilation process, but is by no means complete. <strong>This information is not necessary to program with PROS, but may be helpful for some.</strong></p>

<p>1. Preprocessing</p>

<p>Lines starting with a <code>#</code> are interpreted by the preprocessor as commands. These commands can include other pieces of files (<code>#include</code>), execute basic macro logic (<code>#ifdef</code>), replace text (<code>#define</code>), and more. The goal of preprocessing is to reduce duplicated code.</p>

<p>For instance, to call the PROS API, all of the <em>function declarations</em> need to go in the source file. Using a <em>header file</em> can simplify this operation by writing all of the function declarations in one place, and just <code>#include</code>-ing it to reference those function declarations.</p>

<p>2. Compilation</p>

<p>The next stage of compilation is to translate preprocessed code into <em>assembly instructions</em> that the ARM Cortex-M3 processor can almost understand. Assembly code is human readable and reasonably converted into a language that the processor can understand.</p>

<p>3. Assembly</p>

<p>The assembler translates assembly instructions directly into machine code (called <em>object code</em> or <em>objects</em>). These files aren&rsquo;t considered human readable and can be interpreted by the processor directly.</p>

<p>4. Linking</p>

<p>The final stage of compilation is linking. Objects contain pieces of machine instructions, but may not be complete. For instance, when compiling your source files, the PROS API are not directly incorporated into your object code (merely references to the PROS API functions, as specified by the function declarations). The Linker will incorporate and rearrange all the different object files (and libraries) into one file that <em>can</em> be interpreted by the processor.</p>

<p>To compile code within Atom, press <code>Ctrl</code>+<code>Shift</code>+<code>P</code> to bring up the Command Palette. You can start typing the command you wish to execute, &ldquo;Build: Trigger&rdquo;. You should also notice that it will display the available shortcut keys to execute the command. By default, triggering a build can be done by pressing <code>Ctrl</code>+<code>Alt</code>+<code>B</code> (<code>⌘</code>+<code>Alt</code>+<code>B</code>) or <code>F9</code>. If you have unsaved files, Build will prompt you to save those files. You should always save before building.</p>


<figure >
    
        <img src="https://pros.cs.purdue.edu/images/atom/build.png" />
    
    
</figure>


<h2 id="uploading">Uploading Code to the Cortex</h2>

<p>Now that you have compiled a binary file that the Cortex can understand, you need to upload it to the microcontroller. Within Atom, click the &lsquo;Upload to Cortex&rsquo; button in Atom. This process will upload the binary the compilation process created (<code>bin/output.bin</code>) to the Cortex and begin running it.</p>

<p>If you followed these instructions correctly, you can connect a joystick to the clawbot and drive it using arcade controls!</p>


<figure >
    
        <img src="https://pros.cs.purdue.edu/images/atom/upload.png" />
    
    
</figure>


<h2 id="subsystem-methodology">Subsystem Module Methodology</h2>

<p>In this section, we&rsquo;ll introduce the subsystem module methodology. When developing code for complicated robotic systems, it&rsquo;s extremely helpful to abstract away the necessary steps to perform actions on a system. For instance, to set the speed of a 4 motor chassis, you may need to set the speed of the front left motor, the rear left motor, and so on. You might just have four <code>motorSet()</code> calls every time you want to set robot&rsquo;s speed, but what happens when you add another pair of motors to your chassis, or collapse your left and right sides onto two Y-cables? You would need to comb through all of your code to find all of the times you set the chassis speeds and adjust those calls accordingly. Similarly, you may want a level of abstraction for getting sensor values - what happens if you decide to switch from quadrature encoders to integrated motor encoders?</p>

<p>Writing a function such as <code>chassisSet()</code> can help mitigate this problem. Additionally, you cannot write your <code>chassisSet()</code> function in multiple source files, so you need to create a single source file and be able to incorporate it with <code>opcontrol.c</code>, <code>init.c</code>, and <code>auto.c</code>. The subsystem module methodology is a standard way of organizing these sorts of functions. We define a subsystem as a major component of a robot: chassis, lift, intake, and claw are some common subsystems. We&rsquo;ll write our abstracted subsystem functions in a file like <code>src/chassis.c</code> and put our function declarations in <code>include/chassis.h</code> so that way we can call our new functions.</p>

<p>Let&rsquo;s modify our existing operator control to use the subsystem methodology. We&rsquo;ll begin by creating the header file containing our function declarations. You can create a new file in the <code>include</code> directory by right clicking <code>include</code> and clicking &ldquo;New File&rdquo;. We&rsquo;ll name our file <code>chassis.h</code>. A new empty file is created for us. Header files contain declarations, but not typically definitions. They are a way to describe what resources are available to you.</p>

<blockquote>
<p>Your own header files contain declarations for interfaces between the source files of your program. Each time you have a group of related declarations and macro definitions all or most of which are needed in several different source files, it is a good idea to create a header file for them. <em>(<a href="https://gcc.gnu.org/onlinedocs/cpp/Header-Files.html">GNU</a>)</em></p>
</blockquote>

<p><code>include/chassis.h</code>:</p>

<pre><code class="language-c">#ifndef _CHASSIS_H_
#define _CHASSIS_H_

// Sets the speeds of the left and right wheels of the chassis
void chassisSet(int left, int right);

#endif // _CHASSIS_H_
</code></pre>

<p><code>src/chassis.c</code>:</p>

<pre><code class="language-c">#include &quot;main.h&quot;    // includes API.h and other headers
#include &quot;chassis.h&quot; // redundant, but ensures that the corresponding header file (chassis.h) is included

void chassisSet(int left, int right) {
  motorSet(2, left);
  motorSet(3, right);
}
</code></pre>

<p>Using this methodology, we can rewrite our operator control to something much more concise:</p>

<pre><code class="language-c">#include &quot;main.h&quot;
#include &quot;chassis.h&quot;

void opcontrol() {
  while(1) {
    int power, turn;
    while (1) {
      power = joystickGetAnalog(1, 2); // vertical axis on left joystick
      turn  = joystickGetAnalog(1, 1); // horizontal axis on left joystick
      chassisSet(power + turn, power - turn);
      delay(20);
    }
  }
}
</code></pre>

<p>It should be clear that congregating similar pieces of code into a C source file and a header file for other source files simplifies and organizes your code.</p>

<div class="admonition note">
<p class="admonition-title">Reduce even more</p>
<p>You can modify <code>main.h</code> and include your own header files. In our example, we could modify our <code>main.h</code> to look like the following:</p>

<pre><code class="language-c">// top of main.h omitted
#ifndef MAIN_H_

// This prevents multiple inclusion, which isn't bad for this file but is good practice
#define MAIN_H_

#include &lt;API.h&gt;
#include &quot;chassis.h&quot; // Added this line

// rest of main.h omitted from this listing
</code></pre>

<p>Then, in <code>opcontrol.c</code>, the only file we would need to <code>#include</code> is <code>main.h</code>. In future source files, we would only ever need to <code>#include &quot;main.h&quot;</code> in order to get access to all of our robot&rsquo;s subsystems&rsquo; functions!</p>
</div>

<h2 id="claw">Programming the VEX Claw</h2>

<p>We now want to use the left horizontal joystick to control the aperture of the claw. We&rsquo;ll continue using the modular methodology:</p>

<p><code>include/claw.h</code>:</p>

<pre><code class="language-c">#ifndef _CLAW_H_
#define _CLAW_H_

void clawSet(int speed);

#endif
</code></pre>

<p><code>src/claw.c</code>:</p>

<pre><code class="language-c">#include &quot;main.h&quot;
#include &quot;claw.h&quot;

void clawSet(int speed) {
  motorSet(9, -speed);
}
</code></pre>

<p><code>src/opcontrol.c</code>:</p>

<pre><code class="language-c">#include &quot;main.h&quot;

void operatorControl() {
  int power, turn;
  while (1) {
    power = joystickGetAnalog(1, 2); // vertical axis on left joystick
    turn  = joystickGetAnalog(1, 1); // horizontal axis on left joystick
    chassisSet(power + turn, power - turn);

    // add the following line:
    clawSet(joystickGetAnalog(1, 4));

    delay(20);
  }
}
</code></pre>

<p>Your project structure should now look something like this:

<figure >
    
        <img src="https://pros.cs.purdue.edu/images/tuts/clawbot-atom.png" />
    
    
</figure>
</p>

<h2 id="lift">Controlling the Lift</h2>

<p>Our drivers requested that they be able to use the trigger buttons to control the lift. At this point, complete the lift submodule on your own just like we did for the chassis and claw. If you&rsquo;re having trouble, take a look at the complete Clawbot code sample at the bottom of this page.</p>

<p><code>src/opcontrol.c</code>:</p>

<pre><code class="language-c">#include &quot;main.h&quot;

void operatorControl() {
  int power, turn;
    while (1) {
    power = joystickGetAnalog(1, 2); // vertical axis on left joystick
    turn  = joystickGetAnalog(1, 1); // horizontal axis on left joystick
    chassisSet(power + turn, power - turn);

    clawSet(joystickGetAnalog(1, 4));

    // add the following logic:
    if(joystickGetDigital(1, 6, JOY_UP)) {
      liftSet(127); // pressing up, so lift should go up
    }
    else if(joystickGetDigital(1, 6, JOY_DOWN)) {
      liftSet(-127); // pressing down, so lift should go down
    }
    else {
      liftSet(0); // no buttons are pressed, stop the lift
    }

    delay(20);
    }
}
</code></pre>

<p>Depending on your motor, you may notice that the arm falls back down when stopped mid-raise. This can be alleviated by applying some power to the motor when no buttons are pressed (instead of 0), or by using a control system such as PID.</p>

<h2 id="autonomous">Writing a simple autonomous</h2>

<p>Now that we&rsquo;ve written our code using subsystem modules, writing an autonomous can be simple. In autonomous mode, your robot receives no input from the joystick and operates on its own logic. This mode is typically initiated by a competition controller (<a href="http://www.vexrobotics.com/vexedr/products/competition-products/276-2335.html">field</a> or <a href="http://www.vexrobotics.com/vexedr/products/competition-products/275-1401.html">switch</a>), however you can call <code>autonomous()</code> like you would any other function.</p>

<p>Our autonomous routine will be simple: we want to drive forward for 3.5 seconds and lift the claw for 2 seconds, then rotate left/right every 3 seconds 3 times. Hopefully, this autonomous will score our preload object and knock an object into a scored position.</p>

<p>The code to accomplish this looks like:</p>

<p><code>src/auto.c</code>:</p>

<pre><code class="language-c">#include &quot;main.h&quot;

void autonomous() {
  chassisSet(127, 127); // drive forward
  delay(3500); // delay 3.5 seconds = 3500 milliseconds
  chassisSet(0, 0); // stop driving forward
  liftSet(127); // lift goes up
  delay(2000);
  liftSet(0);
  for(int i = 0; i &lt; 3; i++) {
    chassisSet(-127, 127); // rotate left
    delay(1000);
    chassisSet(127, 127); // rotate right for twice as long \\--/
    delay(2000);
  }
  chassisSet(0, 0); // stop chassis for safety, although potentially not necessary
}
</code></pre>

<p>You may notice that this code runs quite inconsistently. Time delayed autonomous routines do not provide the robot with any progress reports. Due to variations caused by wheels slipping, motor output speed due to battery voltage, and other factors, a time delayed autonomous will rarely perform better than an autonomous using sensor feedback. To create a better autonomous routine, the Internet provides lots of a resources for creating commonly used feedback controllers like the PID Controller.</p>

<p>Congratulations you have completed your first PROS program!</p>

<p><a href="https://pros.cs.purdue.edu/clawbot.zip">Complete source code is available here.</a></p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MPL 2.0 license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme. <br/>
				Contribute to PROS documentation on <a href="http://github.com/purduesigbots/pros-docs">GitHub</a>!
			</aside>

			<footer class="footer">
				

			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/pros.cs.purdue.edu\/';
      var repo_id  = 'purduesigbots\/pros';
    
    </script>

    <script src="https://pros.cs.purdue.edu/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;
            
            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }
        

        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-84548828-3', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
         
        var query = document.querySelector('.query');
        query.addEventListener('blur', function() {
          if (this.value) {
            var path = document.location.pathname;
            ga('send', 'pageview', path + '?q=' + this.value);
          }
        });
      </script>
    

    <script src="//gohugo.io/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
