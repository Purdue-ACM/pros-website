

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Moving Autonomously &mdash; PROS for V5 3.1.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

<link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="PROS for V5 3.1.4 documentation" href="../../../index.html"/>
        <link rel="up" title="Tutorials" href="../index.html"/>
        <link rel="next" title="Programming the Clawbot" href="clawbot.html"/>
        <link rel="prev" title="Asynchronous Autonomous Movement" href="autonomous-movement-async.html"/>
  
   
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>


  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> PROS for V5
          

          
            
            <img src="../../../_static/logo.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  V5 (3.1.4)
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">PROS: Documentation Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../blog/index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/index.html">Version Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/new-users.html">PROS First Time Users Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/installation.html">Installation Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/c/index.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/cpp/index.html">C++ API</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/index.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editor/index.html">Editor</a></li>
</ul>
<p class="caption"><span class="caption-text">OkapiLib</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">OkapiLib Documentation Home</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html">OkapiLib API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#walkthrough-tutorials">Walkthrough Tutorials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="autonomous-movement-async.html">Asynchronous Autonomous Movement</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Moving Autonomously</a></li>
<li class="toctree-l4"><a class="reference internal" href="clawbot.html">Programming the Clawbot</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting-started.html">Getting Started with OkapiLib</a></li>
<li class="toctree-l4"><a class="reference internal" href="lift-movement.html">Lift Movement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#topical-tutorials">Topical Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#walkthrough-tutorials">Walkthrough Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="autonomous-movement-async.html">Asynchronous Autonomous Movement</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Moving Autonomously</a></li>
<li class="toctree-l3"><a class="reference internal" href="clawbot.html">Programming the Clawbot</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html">Getting Started with OkapiLib</a></li>
<li class="toctree-l3"><a class="reference internal" href="lift-movement.html">Lift Movement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#topical-tutorials">Topical Tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">OkapiLib API</a></li>
</ul>
<p class="caption"><span class="caption-text">Extended (Advanced Users)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../extended/index.html">Extended API Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">PROS for V5</a>
        
      </nav>


      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">OkapiLib Documentation Home</a> &raquo;</li>
        
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
        
      <li>Moving Autonomously</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/purduesigbots/pros-docs/blob/master/v5/okapi/tutorials/walkthrough/autonomous-movement-basic.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="moving-autonomously">
<h1>Moving Autonomously<a class="headerlink" href="#moving-autonomously" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This tutorial covers only sequential movement (only one subsystem operating at a time).
For a tutorial on asynchronous movements, see <a class="reference external" href="./autonomous-movement-async.html">Asynchronous Autonomous Movement</a>.</p>
</div>
<p>Arguably the most fundamental task with regard to creating a good autonomous routine
is ensuring consistent and accurate movement of the chassis. Robotic autonomous movement
is an unsolved problem even among professional engineers, so it is obviously a difficult
task. OkapiLib makes it easy to get reasonably accurate autonomous movements.</p>
<p>The basis for this autonomous movement is the <code class="docutils literal notranslate"><span class="pre">ChassisController</span></code> class. Take a look at its
<a class="reference external" href="../../api/chassis/controller/chassis-controller-integrated.html">API</a> and
<a class="reference external" href="../concepts/chassiscontroller.html">concept page</a> for more detailed info on it.</p>
<p>We’ll use a <code class="docutils literal notranslate"><span class="pre">ChassisControllerIntegrated</span></code> for this tutorial, using the V5 motors’ onboard
PID makes setup a much quicker and easier process (No PID tuning needed!).</p>
<p>Let’s start by creating the <code class="docutils literal notranslate"><span class="pre">ChassisControllerIntegrated</span></code> with drive motors in ports 1 and 2:</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">okapi</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_LEFT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_RIGHT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="k">auto</span> <span class="n">chassis</span> <span class="o">=</span> <span class="n">ChassisControllerFactory</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">DRIVE_MOTOR_LEFT</span><span class="p">,</span> <span class="n">DRIVE_MOTOR_RIGHT</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Now that we’ve created a ChassisController, let’s start moving around. There are two fundamental movement types -
<code class="docutils literal notranslate"><span class="pre">moveDistance()</span></code> and <code class="docutils literal notranslate"><span class="pre">turnAngle()</span></code>, for moving forward/backward and turning on a point.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">okapi</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_LEFT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_RIGHT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="k">auto</span> <span class="n">chassis</span> <span class="o">=</span> <span class="n">ChassisControllerFactory</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">DRIVE_MOTOR_LEFT</span><span class="p">,</span> <span class="n">DRIVE_MOTOR_RIGHT</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">autonomous</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Move to first goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">moveDistance</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
  <span class="c1">// Turn to face second goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">turnAngle</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
  <span class="c1">// Drive toward second goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">moveDistance</span><span class="p">(</span><span class="mi">1500</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>If you’d like to set movements in real life units, that’s possible as well. Just pass in the
drive’s gearset and dimensions, and then use the appropriate suffix
for the units that you would like the movement to occur in.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">okapi</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_LEFT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">DRIVE_MOTOR_RIGHT</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">WHEEL_DIAMETER</span> <span class="o">=</span> <span class="mi">4</span><span class="n">_in</span><span class="p">;</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">CHASSIS_WIDTH</span> <span class="o">=</span> <span class="mf">13.5</span><span class="n">_in</span><span class="p">;</span>

<span class="k">auto</span> <span class="n">chassis</span> <span class="o">=</span> <span class="n">ChassisControllerFactory</span><span class="o">::</span><span class="n">create</span><span class="p">(</span>
  <span class="n">DRIVE_MOTOR_LEFT</span><span class="p">,</span> <span class="n">DRIVE_MOTOR_RIGHT</span><span class="p">,</span>
  <span class="n">AbstractMotor</span><span class="o">::</span><span class="n">gearset</span><span class="o">::</span><span class="n">red</span><span class="p">,</span>
  <span class="p">{</span><span class="n">WHEEL_DIAMETER</span><span class="p">,</span> <span class="n">CHASSIS_WIDTH</span><span class="p">}</span>
<span class="p">);</span>

<span class="kt">void</span> <span class="nf">autonomous</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Move 1 meter to the first goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">moveDistance</span><span class="p">(</span><span class="mi">1</span><span class="n">_m</span><span class="p">);</span>
  <span class="c1">// Turn 90 degrees to face second goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">turnAngle</span><span class="p">(</span><span class="mi">90</span><span class="n">_deg</span><span class="p">);</span>
  <span class="c1">// Drive 1 and a half feet toward second goal</span>
  <span class="n">chassis</span><span class="p">.</span><span class="n">moveDistance</span><span class="p">(</span><span class="mf">1.5</span><span class="n">_ft</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>

  <div class="section">
  
  
  </div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="clawbot.html" class="btn btn-neutral float-right" title="Programming the Clawbot" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="autonomous-movement-async.html" class="btn btn-neutral" title="Asynchronous Autonomous Movement" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Purdue ACM SIGBots. Released under the MPL 2.0 license

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Versions: </span>
      v: V5 (3.1.4)
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../../../index.html">V5</a></dd>
        
          <dd><a href="../../../../cortex/index.html">Cortex</a></dd>
        
      </dl>
    </div>
  </div>


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-84548828-3");
pageTracker._trackPageview();
} catch(err) {}</script>


</body>
</html>