

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>SettledUtils &mdash; PROS for V5 3.1.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

<link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="PROS for V5 3.1.1 documentation" href="../../../index.html"/>
        <link rel="up" title="Tutorials" href="../index.html"/>
        <link rel="next" title="Smart Pointers" href="smart-pointers.html"/>
        <link rel="prev" title="Iterative and Async Controllers" href="iterative-async-controllers.html"/>
   
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>


  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> PROS for V5
          

          
            
            <img src="../../../_static/logo.svg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                
                  V5 (3.1.1)
                
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">PROS: Documentation Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../blog/index.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/index.html">Version Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/new-users.html">PROS First Time Users Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/installation.html">Installation Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/c/index.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/cpp/index.html">C++ API</a></li>
</ul>
<p class="caption"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cli/index.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editor/index.html">Editor</a></li>
</ul>
<p class="caption"><span class="caption-text">OkapiLib</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">OkapiLib Documentation Home</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html">OkapiLib API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#walkthrough-tutorials">Walkthrough Tutorials</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#topical-tutorials">Topical Tutorials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="2dmotionprofiling.html">2D Motion Profiling</a></li>
<li class="toctree-l4"><a class="reference internal" href="controller-io.html">Controller Inputs and Outputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="factories.html">Factory Object Creation Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="filtering.html">Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="iterative-async-controllers.html">Iterative and Async Controllers</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">SettledUtils</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#attargeterror">atTargetError</a></li>
<li class="toctree-l5"><a class="reference internal" href="#attargetderivative">atTargetDerivative</a></li>
<li class="toctree-l5"><a class="reference internal" href="#attargettime">atTargetTime</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="smart-pointers.html">Smart Pointers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#walkthrough-tutorials">Walkthrough Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#topical-tutorials">Topical Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="2dmotionprofiling.html">2D Motion Profiling</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller-io.html">Controller Inputs and Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="factories.html">Factory Object Creation Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="filtering.html">Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="iterative-async-controllers.html">Iterative and Async Controllers</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">SettledUtils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attargeterror">atTargetError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attargetderivative">atTargetDerivative</a></li>
<li class="toctree-l4"><a class="reference internal" href="#attargettime">atTargetTime</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="smart-pointers.html">Smart Pointers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">OkapiLib API</a></li>
</ul>
<p class="caption"><span class="caption-text">Extended (Advanced Users)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../extended/index.html">Extended API Topics</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">PROS for V5</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">OkapiLib Documentation Home</a> &raquo;</li>
        
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
        
      <li>SettledUtils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/purduesigbots/pros-docs/blob/master/v5/okapi/tutorials/concepts/settled-util.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="settledutils">
<h1>SettledUtils<a class="headerlink" href="#settledutils" title="Permalink to this headline">¶</a></h1>
<p>One of the most important factors in utilizing feedback controllers is establishing proper
exit conditions. If a feedback controller decides that it has reached its target and exits too early,
then the target will never be met. Alternatively, if the controller takes too long to realize that it’s
at its goal, the best case scenario is that the movement is just a bit slower, but in the worst case
the movement may never be considered complete, leaving the motors humming indefinitely.</p>
<p>OkapiLib’s <a class="reference external" href="../../api/control/util/settled-util.html">SettledUtil</a> provides three different parameters
for tuning this exit condition: <code class="docutils literal notranslate"><span class="pre">atTargetError</span></code>, <code class="docutils literal notranslate"><span class="pre">atTargetDerivative</span></code>, and <code class="docutils literal notranslate"><span class="pre">atTargetTime</span></code>. We’ll
take a further look at tuning these three parameters.</p>
<div class="section" id="attargeterror">
<h2>atTargetError<a class="headerlink" href="#attargeterror" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">atTargetError</span></code> is the maximum error value for the controller to consider itself “settled”, or
conclusively at its target. This value can also be thought of as the precision for the controller’s
movement; if a controller with an <code class="docutils literal notranslate"><span class="pre">atTargetError</span></code> value of 10 is moving towards a target of 100,
then the movement could be considered done at any value between 90 and 110.</p>
<p>It would be ideal to be able to set 0 for this value and theoretically ensure that the controller
ends up exactly at its target with every movement, but this is a very good way to end up in the
indefinite motor humming scenario detailed at the top of the tutorial. At the very least this value
needs to be greater than the mechanical slop in the system (the amount that the sensor can move
without encountering resistance from the motors), but typically this value will be closer to the
default of 50.</p>
<p>To disable this check, set the maximum value for a double.</p>
</div>
<div class="section" id="attargetderivative">
<h2>atTargetDerivative<a class="headerlink" href="#attargetderivative" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">atTargetDerivative</span></code> is the maximum <em>change in error</em> that the controller can be observing and still
consider itself settled. This value helps prevent scenarios where the controller considers itself settled
while quickly passing by the target and oscillating.</p>
<p>To disable this check, set the maximum value for a double.</p>
</div>
<div class="section" id="attargettime">
<h2>atTargetTime<a class="headerlink" href="#attargettime" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">atTargetTime</span></code> is the minimum amount of time that the controller must stay in the range of
<code class="docutils literal notranslate"><span class="pre">Target</span> <span class="pre">+-</span> <span class="pre">atTargetError</span></code> to be considered settled. This also helps prevent a false settled
scenario when oscillating around the target.</p>
<p>To disable this check, set 0.</p>
</div>
</div>

  <div class="section">
  
  
  </div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="smart-pointers.html" class="btn btn-neutral float-right" title="Smart Pointers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iterative-async-controllers.html" class="btn btn-neutral" title="Iterative and Async Controllers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Purdue ACM SIGBots. Released under the MPL 2.0 license.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Versions: </span>
      v: V5 (3.1.1)
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="../../../index.html">V5</a></dd>
        
          <dd><a href="../../../../cortex/index.html">Cortex</a></dd>
        
      </dl>
    </div>
  </div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'3.1.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-84548828-3");
pageTracker._trackPageview();
} catch(err) {}</script>


</body>
</html>